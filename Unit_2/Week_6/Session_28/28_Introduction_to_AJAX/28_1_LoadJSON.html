<!DOCTYPE html>
<html>
    <head>
        <title>LoadJSON ex : AJAX</title>
    </head>
    <body>
        <h1>JSON and AJAX</h1>
        <button type="button" onclick="loadDoc()">Get my data</button>
        <button type="button" onclick="clearContent()">Clear</button>
        <p id="demo"></p>

        <script>
            function loadDoc(){
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function(){
                    if(this.readyState == 4 && this.status == 200){
            
                        myFunction(JSON.parse(this.responseText));
            }
                };
                xhttp.open("GET", "./28_Introduction_to_AJAX.json", true);
                xhttp.send();
            }
        </script>
        <script>
            function clearContent(){
                document.getElementById("demo").innerHTML = "";
            }   
        </script>
        <script>
            function myFunction(jsonObj){
               var out = jsonObj.CD;
               var table = "<table><tr><th>TITLE</th><th>ARTIST</th></tr>";
                for(var i = 0; i < out.length; i++){
                     table+=" <tr><td>" + out[i].TITLE + "</td><td>" + out[i].ARTIST + "</td></tr>";
                }
                table+="</table>";

                document.getElementById("demo").innerHTML = table;
            }
        </script>
    </body>
</html>